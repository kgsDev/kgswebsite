---
// Header component with navigation

// Props for active page highlighting
export interface Props {
  activePage?: string;
}

const { activePage = '' } = Astro.props;

// Check if we're in staging environment
const isStaging = import.meta.env.PUBLIC_ENV === 'staging';
---

<!-- Staging Banner - only shows on staging -->
{isStaging && (
  <div class="staging-banner">
    <div class="staging-banner-content">
      <span class="staging-icon">ðŸš§</span>
      <span class="staging-text">
        You are viewing the <strong>STAGING</strong> environment
      </span>
      <a href="https://kygs.uky.edu" class="production-link">
        Go to Production â†’
      </a>
    </div>
  </div>
)}

<header>
  <div class="logo">
    <!-- Split logo into two clickable parts -->
    <div class="logo-split">
      <a href="https://uky.edu" class="uk-logo-link" target="_blank" rel="noopener">
        <img src="/assets/index/uk-logo-final.png" alt="University of Kentucky" class="uk-logo" />
      </a>
      <a href="/" class="kgs-logo-link">
        <img src="/assets/index/kgs-logo-final.png" alt="Kentucky Geological Survey" class="kgs-logo" />
      </a>
    </div>
  </div>
  <nav class="global-nav inter-nav">
    <div class="nav-menu-trigger">
      <button class="nav-menu-button inter-button" aria-label="Menu">
        <svg><image href="/assets/index/hamburger-button.svg" x="0" y="0" width="100%" height="100%"/></svg>Menu
      </button> 
    </div>
    <div class="nav-menu">
      <details name="nav">
        <summary>Research</summary>
          <ul class="nav-sub-menu">
            <li><a href="/research/geophysics/">Earthquakes & Geophysics</a></li>
            <li><a href="/research/envirogeo/">Environmental Geology</a></li>
            <li><a href="/research/energy/">Fossil Energy & Subsurface Geology</a></li>
            <li><a href="/research/minerals/">Geochemistry & Mineralogy</a></li>    
            <li><a href="/research/geohealth/">GeoHealth</a></li>
            <li><a href="/research/geoinfo/">GeoInformatics</a></li>
            <li><a href="/research/hydro/">Hydrogeology & Karst</a></li>
            <li><a href="/research/lem/">Landscape Evolution & Modelling</a></li>
            <li><a href="/research/landslides/">Landslides & Engineering Geology</a></li>
            <li><hr></li>
            <li><a href="/research/lab/">Analytical & Lab</a></li>
            <li><a href="/labs/">Research Labs</a></li>
            <li><a href="/funding/">Sponsored Projects</a></li>
          </ul> 
      </details>

      <details name="nav">
        <summary>Monitoring</summary>
          <ul class="nav-sub-menu">
            <li><a href="https://www.uky.edu/KGS/water/water-groundwater-monitoring.php">Groundwater Monitoring</a></li>    
            <li><a href="https://www.uky.edu/KGS/landslide/">Landslide Monitoring</a></li>
            <li><a href="https://www.uky.edu/KGS/earthquake/">Seismic Monitoring</a></li>
          </ul> 
      </details>

      <details name="nav">
        <summary>Maps &amp; Data</summary>
          <ul class="nav-sub-menu">
            <li><a href="https://kgs.uky.edu/geomap">Geologic Map Service</a></li>    
            <li><a href="https://kgs.uky.edu/kygeode/services/oilgas/">Oil &amp; Gas Data</a></li>
            <li><a href="https://kgs.uky.edu/kgsweb/DataSearching/watersearch.asp">Groundwater Data</a></li>
            <li><a href="https://kgs.uky.edu/kgsweb/DataSearching/coalsearch.asp">Coal Data</a></li>
            <li><a href="https://kgs.uky.edu/kgsmap/kytcLinks.asp">Geotechnical Data</a></li>
            <li><a href="https://www.uky.edu/KGS/earthquake">Seismic Recordings</a></li>
            <li><a href="https://kgs.uky.edu/kygeode/">KyGeode - Portal to KGS Maps and Data</a></li>
          </ul> 
      </details>
      <details name="nav">
        <summary>Pubs &amp; Collections </summary>
          <ul class="nav-sub-menu">
            <li><a href="https://kgs.uky.edu/kygeode/services/pubs/">Publications Catalog</a></li>    
            <li><a href="https://kgs.uky.edu/kygeode/services/cslib/">Rock Core &amp; Photos</a></li>
            <li><a href="https://kgs.uky.edu/kygeode/services/thins/">Thin Sections</a></li>
            <li><a href="https://kgs.uky.edu/kgsweb/newgeology/image_search.asp">Photo &amp; Images</a></li>
            <li><a href="https://www.uky.edu/KGS/education/factsheet.php">KGS Fact Sheets</a></li>
            <li><a href="https://www.uky.edu/KGS/aboutKGS/annual-report-list.php">KGS Annual Reports</a></li>
          </ul> 
      </details>

      <details name="nav">
        <summary>Kentucky Geology</summary>
          <ul class="nav-sub-menu">
            <li><a href="https://www.uky.edu/KGS/education/">Educational Resources</a></li>
            <li><hr></li>
            <li><a href="https://www.uky.edu/KGS/geoky/">General Geology</a></li>    
            <li><a href="https://www.uky.edu/KGS/coal/">Coal</a></li>
            <li><a href="https://www.uky.edu/KGS/fossils/">Fossils</a></li>
            <li><a href="https://www.uky.edu/KGS/rocksmineral/">Rocks &amp; Minerals</a></li>
            <li><hr></li>
            <li><a href="https://www.uky.edu/KGS/earthquake/earthquake_information.php">Earthquakes</a>
            <li><a href="https://www.uky.edu/KGS/foundation">Foundation Engineering</a>
            <li><a href="https://www.uky.edu/KGS/karst/">Karst and Sinkholes</a></li>
            <li><a href="https://www.uky.edu/KGS/landslide/">Landslides</a></li>
            <li><a href="https://www.uky.edu/KGS/radon/">Radon</a></li>
          </ul> 
      </details>

      <details name="nav">
        <summary>About Us</summary>
          <ul class="nav-sub-menu">
            <li><a href="/about/">About KGS</a></li>
            <li><a href="/contact">Contact KGS</a></li>    
            <li><a href="/about/locations">Locations &amp; Facilities</a></li> 
            <li><a href="/news/">News &amp; Announcements</a></li>
            <li><a href="/about/mission/">Misson, Vision, &amp; Values</a></li>
            <li><a href="/about/dmp/">Data Management Policy</a></li>
            <li><a href="/about/jobs/">Employment Opportunities</a></li>
            <li><a href="/intern/">Internships</a></li>
            <li><a href="/about/orgs/">Associated Organizations</a></li>
            <li><a href="/about/board/">Advisory Board</a></li>
            <li><a href="/staff/">KGS Staff &amp; Affiliates</a></li>
          </ul> 
      </details>
      <input type="search" placeholder="Search..." class="search-bar">
    </div>
  </nav>
</header>

<style>
  /* Staging banner styles */
  .staging-banner {
    background: linear-gradient(135deg, #ff6b6b, #ffa500);
    color: white;
    padding: 8px 0;
    text-align: center;
    position: sticky;
    top: 0;
    z-index: 1001; /* Higher than your nav */
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    font-family: system-ui, -apple-system, sans-serif;
  }
  
  .staging-banner-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }
  
  .staging-icon {
    font-size: 1.2em;
  }
  
  .staging-text {
    font-size: 14px;
    font-weight: 500;
  }
  
  .production-link {
    color: white;
    text-decoration: underline;
    font-size: 13px;
    opacity: 0.9;
    transition: opacity 0.2s;
  }
  
  .production-link:hover {
    opacity: 1;
  }
  
  @media (max-width: 768px) {
    .staging-banner-content {
      flex-direction: column;
      gap: 4px;
    }
    
    .staging-text {
      font-size: 13px;
    }
  }

  /* Split logo styles */
  .logo-split {
    display: flex;
    align-items: center;
    gap: 0; /* No gap between logo parts for seamless appearance */
  }
  
  .uk-logo-link,
  .kgs-logo-link {
    display: block;
    transition: opacity 0.2s ease, transform 0.2s ease;
  }
  
  .uk-logo-link:hover,
  .kgs-logo-link:hover {
    opacity: 0.8;
    transform: translateY(-0.5px);
  }
  
  .uk-logo,
  .kgs-logo {
    height: auto;
    vertical-align: middle;
    display: block;
  }
  
  /* Ensure logos align properly */
  .uk-logo-link {
    border-radius: 4px 0 0 4px; /* Rounded left corners */
  }
  
  .kgs-logo-link {
    border-radius: 0 4px 4px 0; /* Rounded right corners */
  }
  
  /* Optional: Add subtle hover effects to indicate clickability */
  .uk-logo-link:hover .uk-logo {
    filter: brightness(1.1);
  }
  
  .kgs-logo-link:hover .kgs-logo {
    filter: brightness(1.1);
  }
  
  /* Responsive adjustments for mobile */
  @media (max-width: 768px) {
    .logo-split {
      justify-content: center;
    }
    
    .uk-logo,
    .kgs-logo {
      max-height: 40px; /* Adjust as needed for mobile */
    }
  }
</style>

<script src="/src/js/script.js"></script>
