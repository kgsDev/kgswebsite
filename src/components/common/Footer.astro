---
import '../../styles/footer.css';
// Footer component with contact info and links
const currentYear = new Date().getFullYear();
---

<footer>
  <div class="footer-container">
    <div class="footer-logo">
      <a href="https://kygs.uky.edu"><img src="../../assets/index/uk-kgs-logo-white.png" alt="University of Kentucky - Kentucky Geological Survey Logo" /></a>
      <address class="footer-address inter-footer">
          Kentucky Geological Survey<br/>
          University of Kentucky<br/>
          504 Rose Street<br/>
          Lexington, KY 40506<br/> 
          Telephone: <a href="tel:8592575500">(859) 257-5500</a><br/>
          Email: <a href="mailto:kgsmail@uky.edu">kgsmail@uky.edu</a>
      </address>
    </div>
    <!-- Remove 'open' attribute to make them closed by default -->
    <details class="source-sans-3-footer-details">
      <summary>Key Information</summary>
        <ul>
            <li><a href="/about/">About</a></li>
            <li><a href="https://www.uky.edu/KGS/geoky/">Kentucky Geology</a></li>
            <li><a href="https://kgs.uky.edu/kygeode/services/pubs/">Publications Catalog</a></li>
            <li><a href="https://kgs.uky.edu/kygeode/">Maps and Data</a></li>
            <li><a href="https://www.uky.edu/KGS/education/">Education</a></li>
            <li><a href="/about/jobs/">Job Opportunities</a></li>
        </ul>
    </details>                 
    <details class="source-sans-3-footer-details">
        <summary>Connect with KGS</summary>
        <ul>
            <li><a href="https://www.facebook.com/kgsnews/"><img src="../../assets/index/icon-fb-svg.svg" alt="Find on Facebook - Facebook logo"> Find on Facebook</a></li>
            <li><a href="https://www.instagram.com/kygeologicalsurvey/"><img src="../../assets/index/icon-ig-svg.svg" alt="Follow on Instagram - Instagram logo"> Follow on Instagram</a></li>
            <li><a href="https://www.linkedin.com/company/kgsnews"><img src="../../assets/index/icon-li-svg.svg" alt="Connect on LinkedIn - LinkedIn logo"> Connect on LinkedIn</a></li>
            <li><a href="http://www.youtube.com/user/KGSUK"><img src="../../assets/index/icon-yt-svg.svg" alt="Watch on YouTube - YouTube logo"> Watch on YouTube</a></li>
            <li><a href="https://twitter.com/KGSNews"><img src="../../assets/index/icon-x-svg.svg" alt="Follow on X - X logo"> Follow on X</a></li>
        </ul>
    </details>
    <details class="source-sans-3-footer-details">
        <summary>Get Help</summary>
        <ul>
            <li><a href="/contact">Contact Us</a></li>
            <li><a href="/about/locations">Locations & Hours</a></li>
            <li><a href="/staff/">Staff Directory</a></li>
            <li><a href="/search">Search Site</a></li>
            <li><a href="/about/orgs">Associated Organizations</a></li>
        </ul>
    </details>
</div>
<div class="footer-nav source-sans-3-footer-misc">
    <a href="https://www.uky.edu/equal-opportunity-university/">An Equal Opportunity University</a> | 
    <a href="https://www.uky.edu/privacy">Privacy</a> | 
    <a href="https://www.uky.edu/web-accessibility">Accessibility</a> | 
    <a href="https://www.uky.edu/disclosures">Disclosures</a> 
    <p>Copyright &copy; {currentYear} University of Kentucky, Kentucky Geological Survey. All rights reserved.</p>
</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    function handleFooterExpansion() {
        const details = document.querySelectorAll('footer details');
        
        if (window.innerWidth >= 1100) {
            // Desktop: Open all details
            details.forEach(detail => {
                detail.open = true;
            });
        } else {
            // Mobile/Tablet: Always keep closed
            details.forEach(detail => {
                detail.open = false;
            });
        }
    }
    
    // Add interaction tracking
    document.querySelectorAll('footer details').forEach(detail => {
        detail.addEventListener('toggle', function() {
            this.setAttribute('data-user-interacted', 'true');
        });
    });
    
    // Run on load
    handleFooterExpansion();
    
    // Run on resize with debounce
    let resizeTimeout;
    window.addEventListener('resize', function() {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(handleFooterExpansion, 100);
    });
});
</script>
